

配置文件





--------------------------------------------------------------------------------------------------
windows:my.cnf

C:\Windows\my.ini
C:\Windows\my.cnf
C:\my.ini
C:\my.cnf
C:\ProgramFiles\MySQL\my.ini
C:\ProgramFiles\MySQL\my.cnf


HKEY_LOCAL_MACHINE/SYSTEM/CurrentControlSet/Services/Eventlog/Application/MySQL
HKEY_LOCAL_MACHINE/SYSTEM/ControlSet001/Services/Eventlog/Application/MySQL
HKEY_LOCAL_MACHINE/SYSTEM/ControlSet00N/Services/Eventlog/Application/MySQL








--------------------------------------------------------------------------------------------------
linux:my.ini

linux安装mysql

# linux install mysql*.rpm|deb

export PATH=/usr/local/mysql/bin:$PATH

# linux mysql*.tar.gz install

/usr/local/mysql/
support-files/mysql.server start|stop|restart|status
mysqld_safe --user=root


support-files/my-default.cnf -> /etc/my.cnf

--------------------------------------------------------------------------------------------------


macosx:

--------------------------------------------------------------------------------------------------


设置mysql字符集问题

my.cnf|my.ini:
[mysqld]
# utf8
character-set-server=utf8

[mysql]

# utf8
default-character-set=utf8

[client]

# utf8
default-character-set=utf8


shell: service mysqld restart

mysql> show variables like 'character%';

--------------------------------------------------------------------------------------------------


# 设置全局连接等待超时
mysql> set global wait_timeout=10;

# 查看连接相关配置参数
mysql> show variables like "%connect%";
+-----------------------------------------------+-----------------+
| Variable_name                                 | Value           |
+-----------------------------------------------+-----------------+
| character_set_connection                      | utf8            |
| collation_connection                          | utf8_general_ci |
| connect_timeout                               | 10              |
| disconnect_on_expired_password                | ON              |
| init_connect                                  |                 |
| max_connect_errors                            | 100             |
| max_connections                               | 151             |
| max_user_connections                          | 0               |
| performance_schema_session_connect_attrs_size | 512             |
+-----------------------------------------------+-----------------+


# 连接字符集
character_set_connection=utf8

# 连接校验集
collation_connection=utf8_general_ci

# 不连接密码是否失效开关
disconnect_on_expired_password=ON

# 初始化连接数
init_connect=1

# 连接超时时间（单位秒）
connect_timeout=10

# 数据库最大连接数
max_connections=1000

# 数据库最大失败连接数
max_connect_errors=100

# 用户最大连接数
max_user_connections=1000

--------------------------------------------------------------------------------------------------

/usr/local/mysql/etc/my.cnf

mysql 主备同步

分配主备用户权限
mysql> grant replication slave on *.* to 'slave'@'%' identified by 'chench';


my.cnf|my.ini:
[mysql]

# 忽略ignore
binlog-ignore-db=sys
binlog-ignore-db=mysql
binlog-ignore-db=information_schema
binlog-ignore-db=performance_schema

# 主机master
server-id=1
log-bin=mysql-bin
binlog-format=STATEMENT
binlog-do-db=mycat_mysql

# 备机slave
server-id=2
relay-log=mysql-bin|mysql-relay|
replicate-do-db=mycat_mysql
replicate-ignore-db=mysql,information_schema,performance_schema


mysql> change master to 
master_host='192.168.10.153',
master_port=3306,
master_user='slave',
master_password='chench',
master_log_file='mysql-bin.000001',
master_log_pos=590;

mysql> show master;
mysql> show master status;
mysql> show slave status\G;
mysql> show processlist\G;

-- \G：列转行输出结果


mysql> start slave;
mysql> stop slave;
mysql> reset master;






--------------------------------------------------------------------------------------------------
